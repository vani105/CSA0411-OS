// file_perms.c
#include <stdio.h>
#include <sys/stat.h>
#include <pwd.h>
#include <grp.h>

void print_perms(mode_t m){
    char perm[10];
    perm[0] = (m & S_IRUSR) ? 'r' : '-';
    perm[1] = (m & S_IWUSR) ? 'w' : '-';
    perm[2] = (m & S_IXUSR) ? 'x' : '-';
    perm[3] = (m & S_IRGRP) ? 'r' : '-';
    perm[4] = (m & S_IWGRP) ? 'w' : '-';
    perm[5] = (m & S_IXGRP) ? 'x' : '-';
    perm[6] = (m & S_IROTH) ? 'r' : '-';
    perm[7] = (m & S_IWOTH) ? 'w' : '-';
    perm[8] = (m & S_IXOTH) ? 'x' : '-';
    perm[9] = '\0';
    printf("Permissions: %s\n", perm);
}

int main(int argc, char *argv[]){
    if (argc < 2){ printf("Usage: %s filename\n", argv[0]); return 0; }
    struct stat st;
    if (stat(argv[1], &st) != 0){ perror("stat"); return 1; }
    struct passwd *pw = getpwuid(st.st_uid);
    struct group *gr = getgrgid(st.st_gid);
    printf("File: %s\nOwner: %s (uid=%d)\nGroup: %s (gid=%d)\n",
           argv[1],
           pw ? pw->pw_name : "unknown", (int)st.st_uid,
           gr ? gr->gr_name : "unknown", (int)st.st_gid);
    print_perms(st.st_mode);
    printf("\nUser types explained:\n");
    printf(" Owner  - the file's user (can have rwx depending on owner's bits)\n");
    printf(" Group  - users in the file's group (group permissions apply)\n");
    printf(" Others - all other users (other permissions apply)\n");
    return 0;
}
Run: ./file_perms somefile.txt

OUTPUT:
File: sample.txt
Owner: srivani (uid=1001)
Group: users (gid=100)
Permissions: rw-r--r--

User types explained:
 Owner  - the file's user (can have rwx depending on owner's bits)
 Group  - users in the file's group (group permissions apply)
 Others - all other users (other permissions apply)

}
